{{extend 'layout.html'}}
<style>
#index-header{
    background-color:rgb(247,247,247);
    border-bottom:1px solid rgb(225, 225, 225);
    padding-top:15px;
    padding-bottom:15px;
}
#index-header-container{
    margin-left:5%;
    margin-right:5%;
}
#share-footer{
    background-color:rgb(247,247,247);
    border-top:1px solid rgb(225, 225, 225);
}
#share-footer-container{margin-left:5%;margin-right:5%;}
#item-block-list-container{text-align:center;width:100%;}
#item-block-list-item{border:2px solid rgb(210,210,210);display:inline-block;padding:10px;margin:7px;}
#item-block-list-item:hover{border:2px solid rgb(110,110,110);display:inline-block;padding:11px;margin:7px;background-color:rgb(255,255,255);}
</style>
<div id="index-header">
    <div id="index-header-container">
		<h1 style="float:left;">events</h1><br>
        <a data-toggle="modal" href="#new-event" class="lead btn" style="text-align:center;float:right">+ new event</a>
        <div style="clear:both;"></div>
    </div>
</div>

<div style="margin-left:5%;">
    <div class="dropdown" style="float:right;margin-right:15px;">
        <a class="dropdown-toggle" data-toggle="dropdown" href="#">sort by: <b style="margin-left:5px;"class="caret"></b></a>
        <ul class="dropdown-menu pull-right" style="left:auto;width:158px;min-width:0px;" role="menu" aria-labelledby="dLabel">
            <li><a tabindex="-1" href="#">most recent</a></li>
            <li><a tabindex="-1" href="#">relevancy</a></li>
            <li><a tabindex="-1" href="#">highest price</a></li>
            <li><a tabindex="-1" href="#">lowest price</a></li>
        </ul>
    </div>
    <div class="btn-toolbar" style="margin-left:15px;float:left;">
        <div class="btn-group">
            <a class="btn active" id="view-list"><i class="icon-align-justify"></i></a>
            <a class="btn" id="view-table"><i class="icon-th"></i></a>
        </div>
    </div>
    <hr><br>

    <div id="item-list-container" style="">
        {{for event in event_list:}}
            <h3><a href="/event/{{=event['url_title']}}/">{{=event['title']}}</a></h3>
        {{pass}}
    </div>
    <div id="item-block-list-container" style="display:none;">
        {{for event in event_list:}}
            <div id="item-block-list-item">
                <h4><a href="/event/{{=event['title']}}">{{=event['title']}}</a></h4>
                <a href="/event/{{=event['title']}}"><img class="img-polaroid" src="/conexus/static/images/noimage-icon.png"/></a>
                <h4><a href="/event/{{=event['title']}}">details</a></h4>
            </div>
        {{pass}}
    </div>
</div>


<br><br><br><br>


<div class="modal fade" id="new-event" style="display:none;">
    <div class="modal-header" id="new-event-header">
        <a class="close" data-dismiss="modal">Ã—</a>
        <h3>+ new event</h3>
    </div>
    <br>
    <div class="modal-body" style="">
        <p class="lead">description and such
        <div id="external-login" style="display: table;margin: 0 auto;">
        <a id="facebook-login">table link 1</a>
        <a id="twitter-login">table link 2</a>
        <a id="google-login">table link 3</a> 
        </div>
    </div>
    <div class="modal-footer">
        footer
    </div>
</div> 

<script>
    $("#new-event" ).draggable({handle:"#new-event-header", cursor:"move"}); 
    $("#view-list").click(function() {
        if ($(this).hasClass("active")){}
        else{
            $(this).addClass("active");
            $("#view-table").removeClass("active");
            $("#item-block-list-container").fadeToggle(); 
            $("#item-list-container").fadeToggle();
        }
    });
    $("#view-table").click(function() {
        if ($(this).hasClass("active")){}
        else{
            $(this).addClass("active");
            $("#view-list").removeClass("active");
            $("#item-block-list-container").fadeToggle(); 
            $("#item-list-container").fadeToggle();
        }
    });
</script>
